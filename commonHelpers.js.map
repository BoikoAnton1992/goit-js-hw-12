{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/cross.png","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst KEY = '42554743-967d4a87bc85b22a32926b61b';\nconst BASE_URI = 'https://pixabay.com/api/';\n\nexport default async function getImagesFromServer(searchvalue, page) {\n  const LINK = `${BASE_URI}?key=${KEY}&q=${searchvalue}&page=${page}&per_page=18`;\n  return await axios\n    .get(LINK)\n    .then(({ data }) => data.hits)\n    .catch(error => {\n      console.error('Error while fetching images from pixabay:', error.message);\n    });\n}\n","const gallery = document.querySelector('.gallery');\n\nexport default function createGalleryMarkup(data) {\n  const markup = data\n    .map(\n      ({\n        webformatURL,\n        likes,\n        views,\n        comments,\n        downloads,\n        largeImageURL,\n        tags,\n      }) =>\n        `\n   <div class=\"gallery-item\">\n  <a href=\"${largeImageURL}\" class=\"gallery-link\">\n    <img src=\"${webformatURL}\" class=\"gallery-image\" alt=\"${tags}\"/>\n  </a>\n  <div class=\"gallery-info\">\n    <div class=\"info-container\">\n <h4 class=\"info-title\">Likes:</h4>\n    <p class=\"info-p\">${likes}</p>\n    </div>\n       <div class=\"info-container\">\n <h4 class=\"info-title\">Views:</h4>\n    <p class=\"info-p\">${views}</p>\n    </div>\n       <div class=\"info-container\">\n <h4 class=\"info-title\">Comments:</h4>\n    <p class=\"info-p\">${comments}</p>\n    </div>\n       <div class=\"info-container\">\n <h4 class=\"info-title\">Downloads:</h4>\n    <p class=\"info-p\">${downloads}</p>\n    </div>\n  </div>\n</div>\n        `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAENSURBVHgBrZVhDoIwDIUrgfDXm+hRvBFwEr0BXsXjsJnMFVkYsvUV4SWL6Nr3MWgrUUbW2sYY6zSLY3M+Zc7cOWr9evqvL5J18av1OVRVVUdI4c6HwTxIKY5FJ/nbXA3ZYw4hR5hnIZK5MeaKDFMxC8jX3PapRPTi5lJOQWzPewHQpgz49xxkPrmcKwJyEGQe55UEVNdV64P5cmwm1tSEHe+hfAj4hUwAlTmrIKWKglzqGkl1gmg2hVmjnj0QEJuHxxK/EwiRqkGqFqmE433YaJpSFBttDnrfUxACSsWw1+LmJMhWrcyDjoBkzY+AQPM9EMl81QdhLJxOrvGfZ1L96bvblvExaj4JXtJj+QAn5UUxjHYd+gAAAABJRU5ErkJggg==\"","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport './css/styles.css';\nimport getImagesFromServer from './js/pixabay-api';\nimport createGalleryMarkup from './js/render-functions';\nimport iziToast from 'izitoast';\nimport cross from './img/cross.png';\n\nconst search = document.querySelector('.search');\nconst loader = document.querySelector('.loader');\nconst searchForm = document.querySelector('.input-container');\nconst loadMore = document.querySelector('.load-more');\nconst gallery = document.querySelector('.gallery');\n\nlet page;\nlet searchValue;\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n\nfunction resetPage() {\n  gallery.innerHTML = null;\n}\n\nfunction showError() {\n  hideLoader();\n  return iziToast.error({\n    message:\n      'Sorry, there are no images matching <br>your search query. Please try again!',\n    position: 'topRight',\n    backgroundColor: '#ef4040',\n    titleColor: '#ffffff',\n    messageColor: '#ffffff',\n    iconUrl: cross,\n    theme: 'dark',\n    close: false,\n  });\n}\n\nfunction initializeLightbox() {\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n\nasync function showImages() {\n  showLoader();\n  const data = await getImagesFromServer(searchValue, page);\n  if (data.length < 1) return showError();\n  createGalleryMarkup(data);\n  initializeLightbox();\n  hideLoader();\n}\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  resetPage();\n  searchValue = search.value.trim();\n  page = 1;\n  showImages(searchValue);\n});\n\nloadMore.addEventListener('click', () => {\n  page++;\n  showImages();\n});\n"],"names":["KEY","BASE_URI","getImagesFromServer","searchvalue","page","LINK","axios","data","error","gallery","createGalleryMarkup","markup","webformatURL","likes","views","comments","downloads","largeImageURL","tags","cross","search","loader","searchForm","loadMore","searchValue","showLoader","hideLoader","resetPage","showError","iziToast","initializeLightbox","SimpleLightbox","showImages","event"],"mappings":"owBAEA,MAAMA,EAAM,qCACNC,EAAW,2BAEF,eAAeC,EAAoBC,EAAaC,EAAM,CACnE,MAAMC,EAAO,GAAGJ,CAAQ,QAAQD,CAAG,MAAMG,CAAW,SAASC,CAAI,eACjE,OAAO,MAAME,EACV,IAAID,CAAI,EACR,KAAK,CAAC,CAAE,KAAAE,KAAWA,EAAK,IAAI,EAC5B,MAAMC,GAAS,CACd,QAAQ,MAAM,4CAA6CA,EAAM,OAAO,CAC9E,CAAK,CACL,CCbA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAElC,SAASC,EAAoBH,EAAM,CAChD,MAAMI,EAASJ,EACZ,IACC,CAAC,CACC,aAAAK,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,cAAAC,EACA,KAAAC,CACD,IACC;AAAA;AAAA,aAEKD,CAAa;AAAA,gBACVL,CAAY,gCAAgCM,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wBAKxCL,CAAK;AAAA;AAAA;AAAA;AAAA,wBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,SAK5B,EACA,KAAK,EAAE,EAEVP,EAAQ,mBAAmB,YAAaE,CAAM,CAChD,CC3CA,MAAeQ,EAAA,ihBCSTC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAW,SAAS,cAAc,YAAY,EAC9Cd,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIL,EACAoB,EAEJ,SAASC,GAAa,CACpBJ,EAAO,UAAU,OAAO,WAAW,CACrC,CAEA,SAASK,GAAa,CACpBL,EAAO,UAAU,IAAI,WAAW,CAClC,CAEA,SAASM,GAAY,CACnBlB,EAAQ,UAAY,IACtB,CAEA,SAASmB,GAAY,CACnB,OAAAF,IACOG,EAAS,MAAM,CACpB,QACE,+EACF,SAAU,WACV,gBAAiB,UACjB,WAAY,UACZ,aAAc,UACd,QAASV,EACT,MAAO,OACP,MAAO,EACX,CAAG,CACH,CAEA,SAASW,GAAqB,CACX,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB,CAEA,eAAeC,GAAa,CAC1BP,IACA,MAAMlB,EAAO,MAAML,EAAoBsB,EAAapB,CAAI,EACxD,GAAIG,EAAK,OAAS,EAAG,OAAOqB,EAAS,EACrClB,EAAoBH,CAAI,EACxBuB,IACAJ,GACF,CAEAJ,EAAW,iBAAiB,SAAUW,GAAS,CAC7CA,EAAM,eAAc,EACpBN,IACAH,EAAcJ,EAAO,MAAM,OAC3BhB,EAAO,EACP4B,EAAsB,CACxB,CAAC,EAEDT,EAAS,iBAAiB,QAAS,IAAM,CACvCnB,IACA4B,GACF,CAAC"}